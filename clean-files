#!/bin/bash
#
# Provides:				clean-keep
# Short-Description:	clean all files ended with tile ~
# Description:			clean all files ended with tile ~

__clean_keep() {
	pth=${1:-${pth}}
	[ "${USER}" != root ] && sudo='sudo ' || sudo=

	! [ -d "${pth}" ] && echo "path do not exist: '${pth}'" && exit
	count="$(${sudo}find ${pth} -not \( -regex '/\(proc\|run\|sys\|var\/lib\/lxcfs\)' -prune \) -type f -name "$2" -exec echo "{}" \; -exec rm -fR "{}" \; | wc -l)"
	echo "${count} file(s) '${2}' are deleted"
}

__clean_trash() {
	pth=${1:-${pth}}
	[ "${USER}" != root ] && sudo='sudo ' || sudo=

	! [ -d "${pth}" ] && echo "path do not exist: '${pth}'" && exit
	count="$(${sudo}find ${pth} -not \( -regex '/\(proc\|run\/user\|sys\|var\/lib\/lxcfs\)' -prune \) -type d -name "$2" -exec echo {} \; -exec rm -fR {} \; | wc -l)"
	echo "${count} file(s) '${2}' are deleted"
}

__clean_keep '/' '*~'
__clean_trash '/' '.Trash*'